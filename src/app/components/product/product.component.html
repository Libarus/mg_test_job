<div *ngIf="isLoading; else showData"><i class="fa fa-spinner fa-spin"></i></div>

<ng-template #showData>

    <h1 class="pb-5">Продукты</h1>

    <div class="alert-info p-3">
        <a [routerLink]="['/product', 'add']" class="btn btn-primary btn-sm">Добавить продукцию</a>
    </div>

    <div class="alert alert-info mt-3" *ngIf="products.length <= 0; else showTable">Нет данных</div>

    <ng-template #showTable>
        <table class="table table-hover table-striped table-sm">
            <thead>
            <tr>
                <th>№</th>
                <th class="text-center"><i class="fa fa-pencil"></i></th>
                <th class="text-center"><i class="fa fa-remove"></i></th>
                <th style="width:100%;">Наименование</th>
                <th class="text-right">Цена</th>
                <th></th>
                <th class="text-right">Объём</th>
                <th class="text-right">Количество</th>
                <th class="text-right"><i class="fa fa-check-square-o"></i></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let product of products; let index = index">
                <td>{{index + 1}}</td>
                <td><a [routerLink]="['/product', 'edit', product.id]" class="btn btn-outline-primary btn-sm"><i
                    class="fa fa-pencil"></i></a></td>
                <td><a (click)="delete(product.id)" class="btn btn-outline-primary btn-sm"><i class="fa fa-remove"></i></a>
                </td>
                <td><a [routerLink]="['/product', product.id]">{{product.name}}</a></td>
                <td class="text-right">{{product.price}}&nbsp;руб</td>
                <td>за</td>
                <td class="text-right">{{product.volume}}&nbsp;{{product.unit}}</td>
                <td class="text-right">{{product.quantity}}&nbsp;{{product.unit}}</td>
                <td class="text-right"><i class="fa fa-{{product.is_published ? 'check-' : ''}}square-o"></i></td>
            </tr>
            </tbody>
        </table>

    </ng-template>

</ng-template>
